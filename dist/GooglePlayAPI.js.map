{"version":3,"file":"GooglePlayAPI.js","sourceRoot":"","sources":["../src/GooglePlayAPI.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Copyright 2022 GoneTone\n *\n * Google Play API (Unofficial Node.js Library)\n * https://github.com/GoneToneStudio/node-google-play-api\n *\n * @author   張文相 Wenxiang Zhang (旋風之音 GoneTone) <https://blog.reh.tw>\n * @license  MIT <https://github.com/GoneToneStudio/node-google-play-api/blob/master/LICENSE>\n */\n\nimport type {\n  IAndroidAppDeliveryData,\n  IAppFileMetadata,\n  IBuyResponse,\n  IDeliveryResponse,\n  IItem,\n  ISplitDeliveryData\n} from '../proto/google_play'\n\nimport axios from 'axios'\nimport qs from 'qs'\nimport ini from 'ini'\nimport { map } from 'lodash'\n\nimport * as protoBuf from './ProtoBuf'\nimport {\n  readToken,\n  writeToken,\n  isExists,\n  isExtMatch,\n  downloadFile\n} from './FileControl'\n\ninterface AxiosConfig {\n  headers: {\n    'Content-Type': string\n  }\n}\n\nexport class GooglePlayAPI {\n  private readonly _email: string\n  private readonly _gsfID: string\n\n  private readonly _apiEndpoint: string\n  private readonly _authPath: string\n  private readonly _playApiPath: string\n\n  private _userAgent: string\n  private _clientID: string\n  private readonly _googlePlayServiceVersion: string\n  private _sdkVersion: string\n  private readonly _callerSig: string\n  private readonly _callerPkg: string\n\n  private _countryCode: string\n  private _languageCode: string\n\n  private readonly _enabledExperiments: string[]\n  private readonly _unsupportedExperiments: string[]\n\n  private _axiosConfigForGooglePlay: any\n  private _axiosConfigForGooglePlay_Protobuf: any\n\n  private readonly _axiosConfig: AxiosConfig\n\n  /**\n   * GooglePlayAPI constructor.\n   *\n   * @param {string} email Google Mail\n   * @param {string} gsfID GSF ID (Google Service Framework ID)\n   */\n  public constructor (email: string, gsfID: string) {\n    this._email = email\n    this._gsfID = gsfID\n\n    this._apiEndpoint = 'https://android.clients.google.com'\n    this._authPath = '/auth'\n    this._playApiPath = '/fdfe'\n\n    this._userAgent = 'Android-Finsky/20.4.13-all%20%5B0%5D%20%5BPR%5D%20313854362 (api=3,versionCode=82041300,sdk=28,device=ASUS_Z01QD_1,hardware=qcom,product=WW_Z01QD,platformVersionRelease=9,model=ASUS_Z01QD,buildId=PKQ1.190101.001,isWideScreen=0)'\n    this._clientID = 'am-android-asus'\n    this._googlePlayServiceVersion = '212116028'\n    this._sdkVersion = '28'\n    this._callerSig = '38918a453d07199354f8b19af05ec6562ced5788'\n    this._callerPkg = 'com.google.android.gms'\n\n    this._countryCode = 'us'\n    this._languageCode = 'en-US'\n\n    this._enabledExperiments = [\n      'cl:billing.select_add_instrument_by_default'\n    ]\n    this._unsupportedExperiments = [\n      'nocache:billing.use_charging_poller',\n      'market_emails',\n      'buyer_currency',\n      'prod_baseline',\n      'checkin.set_asset_paid_app_field',\n      'shekel_test',\n      'content_ratings',\n      'buyer_currency_in_app',\n      'nocache:encrypted_apk',\n      'recent_changes'\n    ]\n\n    this._axiosConfigForGooglePlay = {}\n    this._axiosConfigForGooglePlay_Protobuf = {}\n\n    this._axiosConfig = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n      }\n    }\n  }\n\n  /**\n   * Set User-Agent\n   *\n   * @param {string} userAgent User-Agent\n   */\n  public setUserAgent (userAgent: string): void {\n    this._userAgent = userAgent\n  }\n\n  /**\n   * Set Client ID\n   *\n   * @param {string} clientID Client ID\n   */\n  public setClientID (clientID: string): void {\n    this._clientID = clientID\n  }\n\n  /**\n   * Set SDK Version\n   *\n   * @param {number} sdkVersion SDK Version\n   */\n  public setSdkVersion (sdkVersion: number): void {\n    this._sdkVersion = sdkVersion.toString()\n  }\n\n  /**\n   * Set Country Code\n   *\n   * @param {string} countryCode Country Code\n   */\n  public setCountryCode (countryCode: string): void {\n    this._countryCode = countryCode\n  }\n\n  /**\n   * Set Language Code\n   *\n   * @param {string} languageCode Language Code\n   */\n  public setLanguageCode (languageCode: string): void {\n    this._languageCode = languageCode.replace('_', '-')\n  }\n\n  /**\n   * Get Google Token\n   *\n   * @param {string} oauth2Token OAuth2 Token\n   * @param {string} saveTokenFilePath Save OAuth2 Token Path (default token.txt)\n   *\n   * @returns {Promise<string>}\n   */\n  public async getGoogleToken (oauth2Token: string, saveTokenFilePath = 'token.txt'): Promise<string> {\n    if (oauth2Token.startsWith('oauth2_4/')) {\n      const pathIsExists = await isExists(saveTokenFilePath)\n      if (pathIsExists) {\n        return await readToken(saveTokenFilePath)\n      }\n\n      try {\n        const axiosData = await axios.post(`${this._apiEndpoint}${this._authPath}`, qs.stringify({\n          androidId: this._gsfID.toString(),\n          lang: this._languageCode.toString(),\n          google_play_services_version: this._googlePlayServiceVersion.toString(),\n          sdk_version: this._sdkVersion.toString(),\n          device_country: this._countryCode.toString(),\n          callerSig: this._callerSig.toString(),\n          client_sig: this._callerSig.toString(),\n          token_request_options: 'CAA4AQ==',\n          Email: this._email.toString(),\n          droidguardPeriodicUpdate: '1',\n          service: 'ac2dm',\n          system_partition: '1',\n          check_email: '1',\n          callerPkg: this._callerPkg.toString(),\n          get_accountid: '1',\n          ACCESS_TOKEN: '1',\n          add_account: '1',\n          Token: oauth2Token.toString()\n        }), this._axiosConfig)\n\n        const parse = ini.parse(axiosData.data)\n\n        const token = parse.Token\n        await writeToken(saveTokenFilePath, token)\n\n        return token as string\n      } catch (e: any) {\n        throw Error(`Get Google Token Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n      }\n    } else {\n      throw Error('Get Google Token Failed: OAuth2 Token must start with \"oauth2_4/\".')\n    }\n  }\n\n  /**\n   * Google Auth\n   *\n   * @param {string} token Token\n   */\n  public async googleAuth (token: string): Promise<void> {\n    if (token.startsWith('aas_et/')) {\n      try {\n        const axiosData = await axios.post(`${this._apiEndpoint}${this._authPath}`, qs.stringify({\n          androidId: this._gsfID.toString(),\n          lang: this._languageCode.toString(),\n          google_play_services_version: this._googlePlayServiceVersion.toString(),\n          sdk_version: this._sdkVersion.toString(),\n          device_country: this._countryCode.toString(),\n          callerSig: this._callerSig.toString(),\n          client_sig: this._callerSig.toString(),\n          token_request_options: 'CAA4AVAB',\n          Email: this._email.toString(),\n          service: 'oauth2:https://www.googleapis.com/auth/googleplay',\n          system_partition: '1',\n          check_email: '1',\n          callerPkg: this._callerPkg.toString(),\n          Token: token.toString(),\n          oauth2_foreground: '1',\n          app: 'com.android.vending',\n          _opt_is_called_from_account_manager: '1',\n          is_called_from_account_manager: '1'\n        }), this._axiosConfig)\n\n        const parse = ini.parse(axiosData.data)\n        const auth = parse.Auth\n\n        this._axiosConfigForGooglePlay = {\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',\n            Host: 'android.clients.google.com',\n            'User-Agent': this._userAgent,\n            'Accept-Language': this._languageCode,\n            Authorization: `Bearer ${auth}`,\n            'X-DFE-Device-Id': this._gsfID,\n            'X-DFE-Client-Id': this._clientID,\n            'X-DFE-Userlanguages': this._languageCode.replace('-', '_'),\n            'X-DFE-Enabled-Experiments': this._enabledExperiments.join(','),\n            'X-DFE-Unsupported-Experiments': this._unsupportedExperiments.join(','),\n            'X-DFE-SmallestScreenWidthDp': '320',\n            'X-DFE-Filter-Level': '3'\n          },\n          decompress: false,\n          responseType: 'arraybuffer',\n          responseEncoding: null\n        }\n        this._axiosConfigForGooglePlay_Protobuf = JSON.parse(JSON.stringify(this._axiosConfigForGooglePlay))\n        this._axiosConfigForGooglePlay_Protobuf.headers['Content-Type'] = 'application/x-protobuf'\n      } catch (e: any) {\n        throw Error(`Google Auth Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n      }\n    } else {\n      if (token.startsWith('oauth2_4/')) {\n        throw Error('Google Auth Failed: Token must start with \"aas_et/\", please use gpAPI.getGoogleToken() to get Token.')\n      }\n\n      throw Error('Google Auth Failed: Token must start with \"aas_et/\".')\n    }\n  }\n\n  /**\n   * Get App Details\n   *\n   * @param {string} packageName App Package Name\n   *\n   * @returns {Promise<IItem | null | undefined>}\n   */\n  public async appDetails (packageName: string): Promise<IItem | null | undefined> {\n    try {\n      const apiUrlAppend = new URL(`${this._apiEndpoint}${this._playApiPath}/details`)\n      apiUrlAppend.searchParams.append('doc', packageName.toString())\n\n      const apiUrl = apiUrlAppend.href\n      const axiosData = await axios.get(apiUrl, this._axiosConfigForGooglePlay)\n\n      return protoBuf.decode(axiosData.data).payload?.detailsResponse?.item\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" App Detail Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Get Bulk Details\n   *\n   * @param {string[]} packages App Packages\n   *\n   * @returns {Promise<IItem[] | null | undefined>}\n   */\n  public async bulkDetails (...packages: string[]): Promise<IItem[] | null | undefined> {\n    try {\n      const data = protoBuf.bulkDetailsRequest(...packages)\n\n      const axiosData = await axios.post(`${this._apiEndpoint}${this._playApiPath}/bulkDetails`, data, this._axiosConfigForGooglePlay_Protobuf)\n\n      return map(protoBuf.decode(axiosData.data).payload?.bulkDetailsResponse?.entry, 'item') as IItem[] | null | undefined\n    } catch (e: any) {\n      throw Error(`Get Bulk Details Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * App Search\n   *\n   * @param {string} keyword Search Keyword\n   *\n   * @returns {Promise<IItem[] | null | undefined>}\n   */\n  public async search (keyword: string): Promise<IItem[] | null | undefined> {\n    try {\n      const apiUrlAppend = new URL(`${this._apiEndpoint}${this._playApiPath}/search`)\n      apiUrlAppend.searchParams.append('q', keyword.toString())\n      apiUrlAppend.searchParams.append('c', '3')\n\n      const apiUrl = apiUrlAppend.href\n      const axiosData = await axios.get(apiUrl, this._axiosConfigForGooglePlay)\n\n      return protoBuf.decode(axiosData.data).preFetch?.[0]?.response?.payload?.listResponse?.item?.[0]?.subItem\n    } catch (e: any) {\n      throw Error(`App Search Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Get App Delivery\n   *\n   * @param {string} packageName App Package Name\n   * @param {number} offerType Offer Type\n   * @param {number} versionCode App Version Code\n   *\n   * @returns {Promise<IDeliveryResponse | null | undefined>}\n   */\n  public async appDelivery (packageName: string, offerType: number, versionCode: number): Promise<IDeliveryResponse | null | undefined> {\n    try {\n      const apiUrlAppend = new URL(`${this._apiEndpoint}${this._playApiPath}/delivery`)\n      apiUrlAppend.searchParams.append('doc', packageName.toString())\n      apiUrlAppend.searchParams.append('ot', offerType.toString())\n      apiUrlAppend.searchParams.append('vc', versionCode.toString())\n\n      const apiUrl = apiUrlAppend.href\n      const axiosData = await axios.get(apiUrl, this._axiosConfigForGooglePlay)\n\n      return protoBuf.decode(axiosData.data).payload?.deliveryResponse\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" App Delivery Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Make Purchase Request\n   *\n   * @param {string} packageName App Package Name\n   * @param {number} offerType Offer Type\n   * @param {number} versionCode App Version Code\n   *\n   * @returns {Promise<IBuyResponse | null | undefined>}\n   */\n  public async purchase (packageName: string, offerType: number, versionCode: number): Promise<IBuyResponse | null | undefined> {\n    try {\n      const axiosData = await axios.post(`${this._apiEndpoint}${this._playApiPath}/purchase`, qs.stringify({\n        doc: packageName.toString(),\n        ot: offerType.toString(),\n        vc: versionCode.toString()\n      }), this._axiosConfigForGooglePlay)\n\n      return protoBuf.decode(axiosData.data).payload?.buyResponse\n    } catch (e: any) {\n      throw Error(`Make \"${packageName}\" Purchase Request Failed: ${(typeof e.response !== 'undefined') ? protoBuf.decode(e.response.data).commands?.displayErrorMessage : e.message}`)\n    }\n  }\n\n  /**\n   * Get Download Info\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<IAndroidAppDeliveryData | null>}\n   */\n  public async downloadInfo (packageName: string, versionCode: number | null | undefined = null): Promise<IAndroidAppDeliveryData | null> {\n    try {\n      const appDetails = await this.appDetails(packageName)\n      const offerType = appDetails?.offer?.[0]?.offerType\n      versionCode = versionCode ?? appDetails?.details?.appDetails?.versionCode\n\n      if (offerType && versionCode) {\n        await this.purchase(packageName, offerType, versionCode)\n        const appDelivery = await this.appDelivery(packageName, offerType, versionCode)\n\n        if (appDelivery?.appDeliveryData) {\n          return appDelivery.appDeliveryData\n        }\n      }\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Download Info Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n\n    throw Error(`Get \"${packageName}\" download info failed, may be the device does not support.`)\n  }\n\n  /**\n   * Get Download Apk Url\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<string | null | undefined>}\n   */\n  public async downloadApkUrl (packageName: string, versionCode: number | null = null): Promise<string | null | undefined> {\n    try {\n      const downloadInfo = await this.downloadInfo(packageName, versionCode)\n\n      return downloadInfo?.downloadUrl\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Download Apk Url Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Download Apk\n   *\n   * @param {string} packageName App Package Name\n   * @param {string} outputPath Output Save Path\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   * @param {string | null} outputFileName Output File Save Name (Default App Package Name)\n   *\n   * @returns {Promise<boolean>}\n   */\n  public async downloadApk (packageName: string, outputPath: string, versionCode: number | null = null, outputFileName: string | null = null): Promise<boolean> {\n    try {\n      let fileName = outputFileName ?? packageName\n      if (!isExtMatch(fileName, 'apk')) {\n        fileName += '.apk'\n      }\n\n      const downloadApkUrl = await this.downloadApkUrl(packageName, versionCode)\n      if (downloadApkUrl) return await downloadFile(downloadApkUrl, outputPath, fileName)\n    } catch (e: any) {\n      throw Error(`Download \"${packageName}\" Apk Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n\n    throw Error(`Download \"${packageName}\" Apk Failed.`)\n  }\n\n  /**\n   * Get Split Delivery Data Info\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<ISplitDeliveryData[] | null | undefined>}\n   */\n  public async splitDeliveryDataInfo (packageName: string, versionCode: number | null = null): Promise<ISplitDeliveryData[] | null | undefined> {\n    try {\n      const downloadInfo = await this.downloadInfo(packageName, versionCode)\n\n      return downloadInfo?.splitDeliveryData\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Split Delivery Data Info Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Get Download Split Apks Name And Url\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<{name: string | null | undefined, downloadUrl: string | null | undefined}[]>}\n   */\n  public async downloadSplitApksNameAndUrl (packageName: string, versionCode: number | null = null): Promise<{ name: string | null | undefined, downloadUrl: string | null | undefined }[]> {\n    try {\n      const splitDeliveryData = await this.splitDeliveryDataInfo(packageName, versionCode)\n\n      return map(splitDeliveryData, data => {\n        return {\n          name: data.name,\n          downloadUrl: data.downloadUrl\n        }\n      })\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Download Split Apks Name And Url Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Download Split Apks\n   *\n   * @param {string} packageName App Package Name\n   * @param {string} outputPath Output Save Path\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   * @param {string | null} outputFileNamePrefixe Output File Save Name Prefixe (Default App Package Name)\n   *\n   * @returns {Promise<boolean>}\n   */\n  public async downloadSplitApks (packageName: string, outputPath: string, versionCode: number | null = null, outputFileNamePrefixe: string | null = null): Promise<boolean> {\n    try {\n      const fileName = outputFileNamePrefixe ?? packageName\n\n      const downloadSplitApksNameAndUrl = await this.downloadSplitApksNameAndUrl(packageName, versionCode)\n      for (const data of downloadSplitApksNameAndUrl) {\n        if (data.downloadUrl) return await downloadFile(data.downloadUrl, outputPath, `${fileName}-${data.name}.apk`)\n      }\n    } catch (e: any) {\n      throw Error(`Download \"${packageName}\" Split Apks Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n\n    throw Error(`Download \"${packageName}\" Split Apks Failed.`)\n  }\n\n  /**\n   * Get Additional File Info\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<IAppFileMetadata[] | null | undefined>}\n   */\n  public async additionalFileInfo (packageName: string, versionCode: number | null = null): Promise<IAppFileMetadata[] | null | undefined> {\n    try {\n      const downloadInfo = await this.downloadInfo(packageName, versionCode)\n\n      return downloadInfo?.additionalFile\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Additional File Info Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Get Download Additional File Urls\n   *\n   * @param {string} packageName App Package Name\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   *\n   * @returns {Promise<string[] | null | undefined>}\n   */\n  public async downloadAdditionalFileUrls (packageName: string, versionCode: number | null = null): Promise<string[] | null | undefined> {\n    try {\n      const additionalFileInfo = await this.additionalFileInfo(packageName, versionCode)\n\n      return map(additionalFileInfo, 'downloadUrl') as string[] | null | undefined\n    } catch (e: any) {\n      throw Error(`Get \"${packageName}\" Download Additional File Urls Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n  }\n\n  /**\n   * Download Additional Files\n   *\n   * @param {string} packageName App Package Name\n   * @param {string} outputPath Output Save Path\n   * @param {number | null} versionCode App Version Code (Default Latest Version Code)\n   * @param {string | null} outputFileName Output File Save Name (Default App Package Name)\n   *\n   * @returns {Promise<boolean>}\n   */\n  public async downloadAdditionalFiles (packageName: string, outputPath: string, versionCode: number | null = null, outputFileName: string | null = null): Promise<boolean> {\n    try {\n      const fileName = outputFileName ?? packageName\n\n      const downloadAdditionalFileUrls = await this.downloadAdditionalFileUrls(packageName, versionCode)\n      if (downloadAdditionalFileUrls) {\n        for (const [key, url] of downloadAdditionalFileUrls.entries()) {\n          await downloadFile(url, outputPath, `${fileName}_${(key + 1)}`)\n        }\n\n        return true\n      }\n    } catch (e: any) {\n      throw Error(`Download \"${packageName}\" Additional Files Failed: ${(typeof e.response !== 'undefined') ? e.response.data : e.message}`)\n    }\n\n    throw Error(`Download \"${packageName}\" Additional Files Failed.`)\n  }\n}\n"]}